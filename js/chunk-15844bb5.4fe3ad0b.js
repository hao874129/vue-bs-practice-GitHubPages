(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-15844bb5"],{"56a6":function(e,t,a){"use strict";var c=a("7a23"),s=function(e){return Object(c["A"])("data-v-136c02bb"),e=e(),Object(c["y"])(),e},n={class:"message-zone"},o=["onClick"],i=s((function(){return Object(c["f"])("span",{"aria-hidden":"true"},"×",-1)})),r=[i];function l(e,t,a,s,i,l){return Object(c["x"])(),Object(c["e"])("div",n,[(Object(c["x"])(!0),Object(c["e"])(c["a"],null,Object(c["E"])(i.messages,(function(e,t){return Object(c["x"])(),Object(c["e"])("div",{class:Object(c["q"])(["alert fade show text-white","alert-".concat(e.color)]),key:t},[Object(c["h"])(Object(c["I"])(e.message)+" ",1),Object(c["f"])("button",{type:"button",class:Object(c["q"])(["btn btn-sm ml-2","btn-".concat(e.color)]),onClick:function(e){return l.removeMessage(t)}},r,10,o)],2)})),128))])}a("d3b7"),a("159b"),a("a434");var d=a("a620"),b={data:function(){return{messages:[]}},methods:{updateMessages:function(e,t){var a=this,c=Math.floor(new Date/1e3);a.messages.push({message:e,color:t,timestamp:c}),a.removeMessageWithTime(c)},removeMessageWithTime:function(e){var t=this;setTimeout((function(){t.messages.forEach((function(a,c){a.timestamp===e&&t.messages.splice(c,1)}))}),1500)},removeMessage:function(e){this.messages.splice(e,1)}},created:function(){var e=this;d["a"].on("getAlertMessage",(function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"second-color";"商品已從購物車移除"!==t&&"已減少此商品數量"!==t&&"已刪除全部訂單"!==t&&"已刪除該筆訂單"!==t||(a="danger"),e.updateMessages(t,a),console.log("這甚麼顏色",a)}))},beforeUnmount:function(){d["a"].off("getAlertMessage")}},f=(a("e993"),a("6b0d")),u=a.n(f);const m=u()(b,[["render",l],["__scopeId","data-v-136c02bb"]]);t["a"]=m},a434:function(e,t,a){"use strict";var c=a("23e7"),s=a("da84"),n=a("23cb"),o=a("5926"),i=a("07fa"),r=a("7b0b"),l=a("65f0"),d=a("8418"),b=a("1dde"),f=b("splice"),u=s.TypeError,m=Math.max,v=Math.min,h=9007199254740991,g="Maximum allowed length exceeded";c({target:"Array",proto:!0,forced:!f},{splice:function(e,t){var a,c,s,b,f,p,j=r(this),O=i(j),x=n(e,O),y=arguments.length;if(0===y?a=c=0:1===y?(a=0,c=O-x):(a=y-2,c=v(m(o(t),0),O-x)),O+a-c>h)throw u(g);for(s=l(j,c),b=0;b<c;b++)f=x+b,f in j&&d(s,b,j[f]);if(s.length=c,a<c){for(b=x;b<O-c;b++)f=b+c,p=b+a,f in j?j[p]=j[f]:delete j[p];for(b=O;b>O-c+a;b--)delete j[b-1]}else if(a>c)for(b=O-c;b>x;b--)f=b+c-1,p=b+a-1,f in j?j[p]=j[f]:delete j[p];for(b=0;b<a;b++)j[b+x]=arguments[b+2];return j.length=O-c+a,s}})},a620:function(e,t,a){"use strict";var c=function(e){return{all:e=e||new Map,on:function(t,a){var c=e.get(t);c?c.push(a):e.set(t,[a])},off:function(t,a){var c=e.get(t);c&&(a?c.splice(c.indexOf(a)>>>0,1):e.set(t,[]))},emit:function(t,a){var c=e.get(t);c&&c.slice().map((function(e){e(a)})),(c=e.get("*"))&&c.slice().map((function(e){e(t,a)}))}}};t["a"]=c()},d504:function(e,t,a){"use strict";a.r(t);var c=a("7a23"),s=Object(c["f"])("div",{class:"container"},[Object(c["f"])("div",{id:"carouselExampleControls",class:"carousel slide","data-ride":"carousel"},[Object(c["f"])("div",{class:"carousel-inner"},[Object(c["f"])("div",{class:"carousel-item active banner-main-img bg-cover banner-img-1"}),Object(c["f"])("div",{class:"carousel-item banner-main-img bg-cover banner-img-2"}),Object(c["f"])("div",{class:"carousel-item banner-main-img bg-cover banner-img-3"})]),Object(c["f"])("a",{class:"carousel-control-prev",href:"#carouselExampleControls",role:"button","data-slide":"prev"},[Object(c["f"])("span",{class:"carousel-control-prev-icon","aria-hidden":"true"}),Object(c["f"])("span",{class:"sr-only"},"Previous")]),Object(c["f"])("a",{class:"carousel-control-next",href:"#carouselExampleControls",role:"button","data-slide":"next"},[Object(c["f"])("span",{class:"carousel-control-next-icon","aria-hidden":"true"}),Object(c["f"])("span",{class:"sr-only"},"Next")])]),Object(c["f"])("div",{class:"header"},[Object(c["f"])("h1",{class:"text-hide"},"2HOME FURNITURE"),Object(c["f"])("div",{class:"row header-box-section d-flex justify-content-center"},[Object(c["f"])("div",{class:"col-10"},[Object(c["f"])("div",{class:"row"},[Object(c["f"])("a",{href:"#精選床架",class:"col-4 header-box-wrap d-flex justify-content-center align-items-center"},[Object(c["f"])("span",{class:"header-box-text h4 font-weight-bold"},"精選床架"),Object(c["f"])("div",{class:"header-box-cover"}),Object(c["f"])("div",{class:"header-box-img bg-cover header-box-1"})]),Object(c["f"])("a",{href:"#居家收納",class:"col-4 header-box-wrap d-flex justify-content-center align-items-center header-box-border"},[Object(c["f"])("span",{class:"header-box-text h4 font-weight-bold"},"居家收納"),Object(c["f"])("div",{class:"header-box-cover"}),Object(c["f"])("div",{class:"header-box-img bg-cover header-box-2"})]),Object(c["f"])("a",{href:"#遮光窗簾",class:"col-4 header-box-wrap d-flex justify-content-center align-items-center"},[Object(c["f"])("span",{class:"header-box-text h4 font-weight-bold"},"遮光窗簾"),Object(c["f"])("div",{class:"header-box-cover"}),Object(c["f"])("div",{class:"header-box-img bg-cover header-box-3"})])])])])])],-1),n=Object(c["g"])('<section class="section my-md-9"><div class="row justify-content-center d-md-none no-gutters my-4"><div class="col-8"><h2 class="vertical-content-text text-center text-main-color verticla-title font-weight-bold"> 為什麼－<br> 選擇了製作傢俱？ </h2></div></div><div class="bg-main-lighter"><div class="container"><div class="row"><div class="col-md-6 section-over"><div class="bg-cover h-100 section-why-img why-img-1"></div></div><div class="col-md-6 d-md-flex justify-content-end vertical-content px-2"><p class="text-main-color vertical-content-text py-md-5 py-4"> 明月何皎皎，照我羅床幃。憂愁不能寐，攬衣起徘徊。<br><br> 客行雖雲樂，不如早旋歸。出戶獨彷徨，愁思當告誰！ </p><h2 class="text-main-darker vertical-content-text section-over verticla-title d-none d-md-block"> 為什麼 －<br><span class="mt-4 font-weight-bold">選擇了製作傢俱？</span></h2></div></div></div></div></section><section class="section my-md-9"><div class="row justify-content-center d-md-none no-gutters my-4"><div class="col-8"><h2 class="vertical-content-text text-center verticla-title text-main-color font-weight-bold"> 為什麼－<br> 一定要購買傢俱？ </h2></div></div><div class="bg-main-lighter"><div class="container"><div class="row flex-row-reverse"><div class="col-md-6 section-over"><div class="bg-cover h-100 section-why-img why-img-2"></div></div><div class="col-md-6 d-md-flex justify-content-end vertical-content px-2"><p class="text-main-color vertical-content-text py-md-5 py-4"> 客路青山外，行舟綠水前。潮平兩岸闊，風正一帆懸。<br><br> 海日生殘夜，江春入舊年。鄉書何處達？歸雁洛陽邊。 </p><h2 class="text-main-darker vertical-content-text section-over verticla-title d-none d-md-block"> 為什麼 －<br><span class="mt-4 font-weight-bold">一定要購買傢俱？</span></h2></div></div></div></div></section><section class="my-5 my-md-8 text-main-darker d-flex flex-column align-items-center"><h2 class="vertical-content-text verticla-title d-md-block"> 好的傢俱 －<br><span class="mt-5">是不需要理由的<i class="fas fa-smile-wink"></i></span></h2></section>',3),o={class:"container my-5 my-md-9",id:"product-card"},i={class:"row"};function r(e,t,a,r,l,d){var b=Object(c["F"])("AlertMessage"),f=Object(c["F"])("ProductCard");return Object(c["x"])(),Object(c["e"])(c["a"],null,[Object(c["i"])(b),s,n,Object(c["f"])("section",o,[Object(c["f"])("div",i,[(Object(c["x"])(!0),Object(c["e"])(c["a"],null,Object(c["E"])(l.threeItems,(function(e){return Object(c["x"])(),Object(c["d"])(f,{key:e.id,"product-data":e,"card-size":l.productCardSize,"cart-data":l.cartData,onEmitGetCartData:d.getCartData},null,8,["product-data","card-size","cart-data","onEmitGetCartData"])})),128))])])],64)}a("99af"),a("d3b7"),a("159b");var l=a("bc3a"),d=a.n(l),b=a("e915"),f=a("56a6"),u={data:function(){return{api_URL:"https://livejs-api.hexschool.io/api/livejs/v1",api_path:"11111111111",token:"phRImiBZsIYgr8P9RjV9rjgr3ws2",productData:[],productCardSize:"4",cartData:[],threeItems:[]}},methods:{getData:function(){var e=this;d.a.get("".concat(e.api_URL,"/customer/").concat(e.api_path,"/products")).then((function(t){e.productData=t.data.products,console.log("全部item",e.productData),e.getThreeItems()})).catch((function(e){console.log(e),console.log("取得產品列表 失敗")}))},getCartData:function(){var e=this;d.a.get("".concat(e.api_URL,"/customer/").concat(e.api_path,"/carts")).then((function(t){e.cartData=t.data.carts,console.log("購物車內容",e.cartData),e.$emit("emitGetCartNum",e.cartData)})).catch((function(e){console.log(e),console.log("取得購物車清單 失敗")}))},getThreeItems:function(){var e=this;e.productData.forEach((function(t){if(0===e.threeItems.length)e.threeItems.push(t);else if(e.threeItems.length<3){var a=!1;e.threeItems.forEach((function(e){t.category===e.category&&(a=!0)})),a||e.threeItems.push(t)}})),console.log("三個item",e.threeItems)}},emits:["emitGetCartNum"],components:{ProductCard:b["a"],AlertMessage:f["a"]},created:function(){this.getData(),this.getCartData()}},m=a("6b0d"),v=a.n(m);const h=v()(u,[["render",r]]);t["default"]=h},e157:function(e,t,a){},e915:function(e,t,a){"use strict";var c=a("7a23"),s={class:"px-md-2"},n={class:"item-card"},o=["id"],i={class:"item-body d-flex text-center text-main-darker justify-content-center align-items-center"},r={class:"col item-name"},l={class:"col item-price font-weight-bold"},d={class:"text-second-color"},b=["data-id"];function f(e,t,a,f,u,m){return Object(c["x"])(),Object(c["e"])("div",{class:Object(c["q"])("col-md-".concat(a.cardSize," mb-6"))},[Object(c["f"])("div",s,[Object(c["f"])("div",n,[Object(c["f"])("div",{class:"item-image bg-cover border border-main-light",style:Object(c["r"])({"background-image":"url("+a.productData.images+")"})},null,4),Object(c["f"])("div",{id:u.itemLabel,class:"item-label"},Object(c["I"])(u.itemLabel),9,o),Object(c["f"])("div",i,[Object(c["f"])("div",r,Object(c["I"])(a.productData.title),1),Object(c["f"])("div",l,[Object(c["f"])("del",d,"NT$"+Object(c["I"])(a.productData.origin_price),1),Object(c["f"])("p",null,"NT$"+Object(c["I"])(a.productData.price),1)])])]),Object(c["f"])("a",{href:"#",class:"btn btn-block btn-lg btn-second-color text-main-darker py-3","data-id":a.productData.id,onClick:t[0]||(t[0]=Object(c["P"])((function(e){return m.addItem(a.productData.id)}),["prevent"]))},"加入購物車",8,b)])],2)}a("d3b7"),a("159b"),a("99af");var u=a("bc3a"),m=a.n(u),v=a("a620"),h={name:"ProductCard",data:function(){return{api_URL:"https://livejs-api.hexschool.io/api/livejs/v1",api_path:"11111111111",token:"phRImiBZsIYgr8P9RjV9rjgr3ws2",itemLabel:""}},methods:{getItemLabel:function(){var e=this;"床架"===e.productData.category?e.itemLabel="精選床架":"收納"===e.productData.category?e.itemLabel="居家收納":e.itemLabel="遮光窗簾"},addItem:function(e){var t=this,a=this,c=1;a.cartData.forEach((function(t){e===t.product.id&&(c=t.quantity+1)})),m.a.post("".concat(a.api_URL,"/customer/").concat(a.api_path,"/carts"),{data:{productId:e,quantity:c}}).then((function(e){console.log("ID:".concat(a.productData.title,",已加入第").concat(c,"個")),t.$emit("emit-getCartData"),v["a"].emit("getAlertMessage","商品已加入購物車")})).catch((function(e){console.log(e),console.log("將產品加入購物車 失敗")}))}},props:{productData:Object,cardSize:String,cartData:Object},created:function(){this.getItemLabel()}},g=a("6b0d"),p=a.n(g);const j=p()(h,[["render",f]]);t["a"]=j},e993:function(e,t,a){"use strict";a("e157")}}]);
//# sourceMappingURL=chunk-15844bb5.4fe3ad0b.js.map