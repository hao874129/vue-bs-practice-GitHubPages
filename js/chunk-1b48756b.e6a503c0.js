(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1b48756b"],{"00b4":function(e,t,c){"use strict";c("ac1f");var a=c("23e7"),n=c("da84"),r=c("c65b"),s=c("e330"),l=c("1626"),o=c("861d"),i=function(){var e=!1,t=/[ac]/;return t.exec=function(){return e=!0,/./.exec.apply(this,arguments)},!0===t.test("abc")&&e}(),u=n.Error,d=s(/./.test);a({target:"RegExp",proto:!0,forced:!i},{test:function(e){var t=this.exec;if(!l(t))return d(this,e);var c=r(t,this,e);if(null!==c&&!o(c))throw new u("RegExp exec method returned something other than an Object or null");return!!c}})},"107c":function(e,t,c){var a=c("d039"),n=c("da84"),r=n.RegExp;e.exports=a((function(){var e=r("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},"7cb4":function(e,t,c){"use strict";c.r(t);c("b0c0");var a=c("7a23"),n={class:"container my-5"},r={class:"row justify-content-center"},s={class:"col-md-8 px-2"},l={class:"deliver-recipient bg-main-darker px-4 py-4 text-main-lighter"},o=Object(a["f"])("div",{class:"d-flex justify-content-center align-items-center pt-3 pb-5"},[Object(a["f"])("div",{class:"d-flex justify-content-center"},[Object(a["f"])("span",{class:"h1"},"訂單填寫")])],-1),i={class:"form-row"},u={class:"col-6 mb-3"},d=Object(a["f"])("label",{for:"customerName"},"姓名",-1),f={class:"ml-3 orderInfo-message text-danger"},b={class:"col-6 mb-3"},m=Object(a["f"])("label",{for:"customerPhone"},"電話",-1),p={class:"ml-3 orderInfo-message text-danger"},O={class:"form-row"},j={class:"col mb-3"},g=Object(a["f"])("label",{for:"customerEmail"},"Email",-1),x={class:"ml-3 orderInfo-message text-danger"},v={class:"form-row"},h={class:"col mb-3"},y=Object(a["f"])("label",{for:"customerAddress"},"寄送地址",-1),I={class:"ml-3 orderInfo-message text-danger"},w={class:"form-row"},k={class:"col mb-3"},E=Object(a["f"])("label",{for:"customerPayment"},"付款方式",-1),R={class:"ml-3 orderInfo-message text-danger"},V=Object(a["f"])("option",{value:"",disabled:""},"請選擇付款方式",-1),_=Object(a["f"])("option",{selected:"",value:"超商取貨付款"},"超商取貨付款",-1),q=Object(a["f"])("option",{value:"信用卡"},"信用卡",-1),S=Object(a["f"])("option",{value:"ATM"},"ATM",-1),T={class:"mt-5 btn btn-lg btn-main-color btn-block py-3"},N=Object(a["h"])(" 送出訂單 "),C={class:"d-none d-md-block col-md-4"},D={class:"ml-3 card-summarybox border border-primary-lighter text-main-color"},U=Object(a["f"])("h3",{class:"text-center bg-main-lighter py-2"}," 訂單摘要 ",-1),A={class:"d-flex justify-content-between py-3 px-2"},P=Object(a["f"])("span",{class:"h5"},"小計",-1),$={class:"h5"},F=Object(a["f"])("div",{class:"d-flex justify-content-between pb-2 px-2"},[Object(a["f"])("span",{class:"h5"},"運費"),Object(a["f"])("span",{class:"h5"},[Object(a["h"])("NT$ "),Object(a["f"])("del",{class:"h5 text-second-color"},"60"),Object(a["h"])(" 0")])],-1),B={class:"d-flex justify-content-between pb-2 px-2"},K=Object(a["f"])("span",{class:"h4 font-weight-bold"},"合計",-1),L={class:"h4 font-weight-bold"},M={class:"d-none d-lg-block mt-4 ml-3 card-summarybox border border-primary-lighter text-main-color"},Y=Object(a["f"])("h3",{class:"text-center bg-main-lighter py-2"}," 購物清單 ",-1),G={class:"pr-3 pl-3"},J={class:"text-main-darker"},X={class:"h6"};function Z(e,t,c,Z,z,H){var Q=Object(a["F"])("error-message"),W=Object(a["F"])("VField"),ee=Object(a["F"])("router-link"),te=Object(a["F"])("VForm");return Object(a["x"])(),Object(a["e"])("section",n,[Object(a["f"])("div",r,[Object(a["f"])("div",s,[Object(a["f"])("div",l,[o,Object(a["i"])(te,{class:"needs-validation",onSubmit:H.onSubmit},{default:Object(a["O"])((function(e){var c=e.errors;return[Object(a["f"])("div",i,[Object(a["f"])("div",u,[d,Object(a["i"])(Q,{name:"姓名",class:"invalid-feedback"},{default:Object(a["O"])((function(e){var t=e.message;return[Object(a["f"])("span",f,Object(a["I"])(t),1)]})),_:1}),Object(a["i"])(W,{name:"姓名",id:"customerName",type:"text",class:Object(a["q"])(["form-control form-control-lg",{"is-invalid":c["姓名"]}]),rules:H.isRequired,modelValue:z.user.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return z.user.name=e}),placeholder:"黃小豪",required:""},null,8,["rules","class","modelValue"])]),Object(a["f"])("div",b,[m,Object(a["i"])(Q,{name:"電話",class:"invalid-feedback"},{default:Object(a["O"])((function(e){var t=e.message;return[Object(a["f"])("span",p,Object(a["I"])(t),1)]})),_:1}),Object(a["i"])(W,{name:"電話",id:"customerPhone",type:"tel",class:Object(a["q"])(["form-control form-control-lg",{"is-invalid":c["電話"]}]),rules:H.isPhone,modelValue:z.user.tel,"onUpdate:modelValue":t[1]||(t[1]=function(e){return z.user.tel=e}),placeholder:"0912345678",required:""},null,8,["rules","class","modelValue"])])]),Object(a["f"])("div",O,[Object(a["f"])("div",j,[g,Object(a["i"])(Q,{name:"email",class:"invalid-feedback"},{default:Object(a["O"])((function(e){var t=e.message;return[Object(a["f"])("span",x,Object(a["I"])(t),1)]})),_:1}),Object(a["i"])(W,{name:"email",id:"customerEmail",type:"email",class:Object(a["q"])(["form-control form-control-lg",{"is-invalid":c["email"]}]),rules:{email:!0,required:!0},modelValue:z.user.email,"onUpdate:modelValue":t[2]||(t[2]=function(e){return z.user.email=e}),placeholder:"abc123@gmail.com",required:""},null,8,["class","modelValue"])])]),Object(a["f"])("div",v,[Object(a["f"])("div",h,[y,Object(a["i"])(Q,{name:"地址",class:"invalid-feedback"},{default:Object(a["O"])((function(e){var t=e.message;return[Object(a["f"])("span",I,Object(a["I"])(t),1)]})),_:1}),Object(a["i"])(W,{name:"地址",id:"customerAddress",type:"text",class:Object(a["q"])(["form-control form-control-lg",{"is-invalid":c["地址"]}]),rules:{required:!0},modelValue:z.user.address,"onUpdate:modelValue":t[3]||(t[3]=function(e){return z.user.address=e}),placeholder:"台中市大甲區大馬路 2 號",required:""},null,8,["class","modelValue"])])]),Object(a["f"])("div",w,[Object(a["f"])("div",k,[E,Object(a["i"])(Q,{name:"付款方式",class:"invalid-feedback"},{default:Object(a["O"])((function(e){var t=e.message;return[Object(a["f"])("span",R,Object(a["I"])(t),1)]})),_:1}),Object(a["i"])(W,{name:"付款方式",id:"customerPayment",class:Object(a["q"])(["form-control form-control-lg",{"is-invalid":c["付款方式"]}]),rules:{required:!0},modelValue:z.user.payment,"onUpdate:modelValue":t[4]||(t[4]=function(e){return z.user.payment=e}),required:"",as:"select"},{default:Object(a["O"])((function(){return[V,_,q,S]})),_:2},1032,["class","modelValue"])])]),Object(a["f"])("button",T,[Object(a["i"])(ee,{to:"/success",class:"text-light",href:"success.html",type:"submit"},{default:Object(a["O"])((function(){return[N]})),_:1})])]})),_:1},8,["onSubmit"])])]),Object(a["f"])("div",C,[Object(a["f"])("div",D,[U,Object(a["f"])("div",A,[P,Object(a["f"])("span",$,"NT$ "+Object(a["I"])(z.cartInfo.finalTotal),1)]),F,Object(a["f"])("div",B,[K,Object(a["f"])("span",L,"NT$ "+Object(a["I"])(z.cartInfo.finalTotal),1)])]),Object(a["f"])("div",M,[Y,(Object(a["x"])(!0),Object(a["e"])(a["a"],null,Object(a["E"])(z.cartData,(function(e){return Object(a["x"])(),Object(a["e"])("div",{class:"card-summaryimg py-2 px-2 d-flex justify-content-start align-items-center text-left",key:e.id},[Object(a["f"])("div",{class:"cart-image py-2",style:Object(a["r"])({"background-image":"url("+e.product.images+")"})},null,4),Object(a["f"])("div",G,[Object(a["f"])("h5",J,Object(a["I"])(e.product.title),1),Object(a["f"])("span",X,"NT$"+Object(a["I"])(e.product.price*e.quantity),1)])])})),128))])])])])}c("99af"),c("ac1f"),c("00b4");var z=c("bc3a"),H=c.n(z),Q={name:"Checkout",data:function(){return{api_URL:"https://livejs-api.hexschool.io/api/livejs/v1",api_path:"11111111111",token:"phRImiBZsIYgr8P9RjV9rjgr3ws2",cartData:[],cartInfo:[],user:{name:"",tel:"",email:"",address:"",payment:""}}},methods:{getCartData:function(){var e=this;H.a.get("".concat(e.api_URL,"/customer/").concat(e.api_path,"/carts")).then((function(t){e.cartData=t.data.carts,e.cartInfo=t.data,console.log("購物車內容",e.cartData),console.log("購物車資訊",e.cartInfo),e.$emit("emitGetCartNum",e.cartData)})).catch((function(e){console.log(e),console.log("取得購物車清單 失敗")}))},onSubmit:function(){console.log(this.user);var e=this,t={};t.user=e.user,H.a.post("".concat(e.api_URL,"/customer/").concat(e.api_path,"/orders"),{data:t}).then((function(t){console.log("對後台新增一個購買清單 成功"),e.getCartData()})).catch((function(e){console.log(e),console.log("對後台新增一個購買清單 失敗")})),this.$router.push("/success")},isRequired:function(e){return!!e||"必填"},isPhone:function(e){if(!e)return"必填";var t=/^(09)[0-9]{8}$/;return!!t.test(e)||"錯誤"}},emits:["emitGetCartNum"],created:function(){this.getCartData()}},W=c("6b0d"),ee=c.n(W);const te=ee()(Q,[["render",Z]]);t["default"]=te},9263:function(e,t,c){"use strict";var a=c("c65b"),n=c("e330"),r=c("577e"),s=c("ad6d"),l=c("9f7f"),o=c("5692"),i=c("7c73"),u=c("69f3").get,d=c("fce3"),f=c("107c"),b=o("native-string-replace",String.prototype.replace),m=RegExp.prototype.exec,p=m,O=n("".charAt),j=n("".indexOf),g=n("".replace),x=n("".slice),v=function(){var e=/a/,t=/b*/g;return a(m,e,"a"),a(m,t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),h=l.BROKEN_CARET,y=void 0!==/()??/.exec("")[1],I=v||y||h||d||f;I&&(p=function(e){var t,c,n,l,o,d,f,I=this,w=u(I),k=r(e),E=w.raw;if(E)return E.lastIndex=I.lastIndex,t=a(p,E,k),I.lastIndex=E.lastIndex,t;var R=w.groups,V=h&&I.sticky,_=a(s,I),q=I.source,S=0,T=k;if(V&&(_=g(_,"y",""),-1===j(_,"g")&&(_+="g"),T=x(k,I.lastIndex),I.lastIndex>0&&(!I.multiline||I.multiline&&"\n"!==O(k,I.lastIndex-1))&&(q="(?: "+q+")",T=" "+T,S++),c=new RegExp("^(?:"+q+")",_)),y&&(c=new RegExp("^"+q+"$(?!\\s)",_)),v&&(n=I.lastIndex),l=a(m,V?c:I,T),V?l?(l.input=x(l.input,S),l[0]=x(l[0],S),l.index=I.lastIndex,I.lastIndex+=l[0].length):I.lastIndex=0:v&&l&&(I.lastIndex=I.global?l.index+l[0].length:n),y&&l&&l.length>1&&a(b,l[0],c,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(l[o]=void 0)})),l&&R)for(l.groups=d=i(null),o=0;o<R.length;o++)f=R[o],d[f[0]]=l[f[1]];return l}),e.exports=p},"9f7f":function(e,t,c){var a=c("d039"),n=c("da84"),r=n.RegExp,s=a((function(){var e=r("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),l=s||a((function(){return!r("a","y").sticky})),o=s||a((function(){var e=r("^r","gy");return e.lastIndex=2,null!=e.exec("str")}));e.exports={BROKEN_CARET:o,MISSED_STICKY:l,UNSUPPORTED_Y:s}},ac1f:function(e,t,c){"use strict";var a=c("23e7"),n=c("9263");a({target:"RegExp",proto:!0,forced:/./.exec!==n},{exec:n})},ad6d:function(e,t,c){"use strict";var a=c("825a");e.exports=function(){var e=a(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},b0c0:function(e,t,c){var a=c("83ab"),n=c("5e77").EXISTS,r=c("e330"),s=c("9bf2").f,l=Function.prototype,o=r(l.toString),i=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,u=r(i.exec),d="name";a&&!n&&s(l,d,{configurable:!0,get:function(){try{return u(i,o(this))[1]}catch(e){return""}}})},fce3:function(e,t,c){var a=c("d039"),n=c("da84"),r=n.RegExp;e.exports=a((function(){var e=r(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))}}]);
//# sourceMappingURL=chunk-1b48756b.e6a503c0.js.map