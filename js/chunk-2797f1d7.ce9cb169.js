(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2797f1d7"],{"56a6":function(t,e,a){"use strict";var c=a("7a23"),n=function(t){return Object(c["A"])("data-v-136c02bb"),t=t(),Object(c["y"])(),t},s={class:"message-zone"},i=["onClick"],o=n((function(){return Object(c["f"])("span",{"aria-hidden":"true"},"×",-1)})),r=[o];function l(t,e,a,n,o,l){return Object(c["x"])(),Object(c["e"])("div",s,[(Object(c["x"])(!0),Object(c["e"])(c["a"],null,Object(c["E"])(o.messages,(function(t,e){return Object(c["x"])(),Object(c["e"])("div",{class:Object(c["q"])(["alert fade show text-white","alert-".concat(t.color)]),key:e},[Object(c["h"])(Object(c["I"])(t.message)+" ",1),Object(c["f"])("button",{type:"button",class:Object(c["q"])(["btn btn-sm ml-2","btn-".concat(t.color)]),onClick:function(t){return l.removeMessage(e)}},r,10,i)],2)})),128))])}a("d3b7"),a("159b"),a("a434");var f=a("a620"),b={data:function(){return{messages:[]}},methods:{updateMessages:function(t,e){var a=this,c=Math.floor(new Date/1e3);a.messages.push({message:t,color:e,timestamp:c}),a.removeMessageWithTime(c)},removeMessageWithTime:function(t){var e=this;setTimeout((function(){e.messages.forEach((function(a,c){a.timestamp===t&&e.messages.splice(c,1)}))}),1500)},removeMessage:function(t){this.messages.splice(t,1)}},created:function(){var t=this;f["a"].on("getAlertMessage",(function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"second-color";"商品已從購物車移除"!==e&&"已減少此商品數量"!==e&&"已刪除全部訂單"!==e&&"已刪除該筆訂單"!==e||(a="danger"),t.updateMessages(e,a),console.log("這甚麼顏色",a)}))},beforeUnmount:function(){f["a"].off("getAlertMessage")}},u=(a("e993"),a("6b0d")),m=a.n(u);const d=m()(b,[["render",l],["__scopeId","data-v-136c02bb"]]);e["a"]=d},a434:function(t,e,a){"use strict";var c=a("23e7"),n=a("da84"),s=a("23cb"),i=a("5926"),o=a("07fa"),r=a("7b0b"),l=a("65f0"),f=a("8418"),b=a("1dde"),u=b("splice"),m=n.TypeError,d=Math.max,p=Math.min,h=9007199254740991,j="Maximum allowed length exceeded";c({target:"Array",proto:!0,forced:!u},{splice:function(t,e){var a,c,n,b,u,g,O=r(this),v=o(O),x=s(t,v),y=arguments.length;if(0===y?a=c=0:1===y?(a=0,c=v-x):(a=y-2,c=p(d(i(e),0),v-x)),v+a-c>h)throw m(j);for(n=l(O,c),b=0;b<c;b++)u=x+b,u in O&&f(n,b,O[u]);if(n.length=c,a<c){for(b=x;b<v-c;b++)u=b+c,g=b+a,u in O?O[g]=O[u]:delete O[g];for(b=v;b>v-c+a;b--)delete O[b-1]}else if(a>c)for(b=v-c;b>x;b--)u=b+c-1,g=b+a-1,u in O?O[g]=O[u]:delete O[g];for(b=0;b<a;b++)O[b+x]=arguments[b+2];return O.length=v-c+a,n}})},a620:function(t,e,a){"use strict";var c=function(t){return{all:t=t||new Map,on:function(e,a){var c=t.get(e);c?c.push(a):t.set(e,[a])},off:function(e,a){var c=t.get(e);c&&(a?c.splice(c.indexOf(a)>>>0,1):t.set(e,[]))},emit:function(e,a){var c=t.get(e);c&&c.slice().map((function(t){t(a)})),(c=t.get("*"))&&c.slice().map((function(t){t(e,a)}))}}};e["a"]=c()},b789:function(t,e,a){"use strict";a.r(e);var c=a("7a23"),n={class:"container my-5"},s={class:"row"},i={class:"col-md-8 pb-2 px-2"},o=Object(c["f"])("h4",{class:"bg-main-lighter text-main-color text-center py-4"},"您的購物車",-1),r={class:"col-md-4 px-2"},l={class:"card-summarybox px-3 bg-main-darker mx-2"},f=Object(c["f"])("h4",{class:"text-white text-center pt-4 pb-2"}," 訂單摘要 ",-1),b=Object(c["f"])("hr",{class:"border-white"},null,-1),u={class:"d-flex justify-content-between text-white pb-2"},m=Object(c["f"])("span",{class:"h5"},"小計",-1),d={class:"h5"},p=Object(c["f"])("div",{class:"d-flex justify-content-between text-white pb-2"},[Object(c["f"])("span",{class:"h5"},"運費"),Object(c["f"])("span",{class:"h5"},[Object(c["h"])("NT$ "),Object(c["f"])("del",{class:"h5 text-second-color"},"60"),Object(c["h"])(" 0")])],-1),h={class:"d-flex justify-content-between text-white pb-2"},j=Object(c["f"])("span",{class:"h4"},"合計",-1),g={class:"h4 font-weight-bold"},O={class:"mx-2"},v=Object(c["h"])(" 結帳 ");function x(t,e,a,x,y,I){var w=Object(c["F"])("AlertMessage"),C=Object(c["F"])("CartCard"),k=Object(c["F"])("router-link");return Object(c["x"])(),Object(c["e"])(c["a"],null,[Object(c["i"])(w),Object(c["f"])("section",n,[Object(c["f"])("div",s,[Object(c["f"])("div",i,[o,(Object(c["x"])(!0),Object(c["e"])(c["a"],null,Object(c["E"])(y.cartData,(function(t){return Object(c["x"])(),Object(c["d"])(C,{key:t.id,"cart-item":t,onEmitGetCartData:I.getCartData},null,8,["cart-item","onEmitGetCartData"])})),128))]),Object(c["f"])("div",r,[Object(c["f"])("div",l,[f,b,Object(c["f"])("div",u,[m,Object(c["f"])("span",d,"NT$ "+Object(c["I"])(y.cartInfo.finalTotal),1)]),p,Object(c["f"])("div",h,[j,Object(c["f"])("span",g,"NT$ "+Object(c["I"])(y.cartInfo.finalTotal),1)])]),Object(c["f"])("div",O,[Object(c["i"])(k,{to:"/checkout",href:"checkout-1.html",class:"btn btn-main-color btn-block text-light btn-lg py-3"},{default:Object(c["O"])((function(){return[v]})),_:1})])])])])],64)}a("99af");var y=a("bc3a"),I=a.n(y),w={class:"d-flex flex-column flex-md-row justify-content-md-between border-bottom border-main-lighter py-2"},C={class:"flex-fill cart-row-detail d-flex align-items-center"},k={class:"flex-fill d-flex flex-column flex-md-row align-items-md-center align-items-start px-2"},M={class:"text-left d-flex flex-column align-items-start w-50 mr-2"},_={class:"text-main-darker"},D={class:"h6 text-main-color"},q={class:"cart-quantity w-50"},T={class:"input-group"},R={class:"input-group-prepend"},A={class:"cart-quantity-qty bg-white border border-main-lighter d-flex justify-content-center align-items-center"},$={class:"input-froup-append"},N={class:"row-price d-flex align-items-center justify-content-end py-2"},U={class:"h5 mb-0 text-main-darker"},E=Object(c["f"])("i",{class:"fas fa-trash-alt"},null,-1),L=[E];function Q(t,e,a,n,s,i){return Object(c["x"])(),Object(c["e"])("div",w,[Object(c["f"])("div",C,[Object(c["f"])("div",{class:"cart-image py-2",style:Object(c["r"])({"background-image":"url("+a.cartItem.product.images+")"})},null,4),Object(c["f"])("div",k,[Object(c["f"])("div",M,[Object(c["f"])("h5",_,Object(c["I"])(a.cartItem.product.title),1),Object(c["f"])("span",D,"NT$"+Object(c["I"])(a.cartItem.product.price),1)]),Object(c["f"])("div",q,[Object(c["f"])("div",T,[Object(c["f"])("div",R,[Object(c["f"])("button",{type:"button",class:"cart-quantity-btn-add btn btn-white btn-outline-main-lighter text-main-color d-flex justify-content-center align-items-center",onClick:e[0]||(e[0]=Object(c["P"])((function(){return i.removeItemQty&&i.removeItemQty.apply(i,arguments)}),["prevent"]))},"—")]),Object(c["f"])("span",A,Object(c["I"])(a.cartItem.quantity),1),Object(c["f"])("div",$,[Object(c["f"])("button",{type:"button",class:"cart-quantity-btn-remove btn btn-white btn-outline-main-lighter text-main-color d-flex justify-content-center align-items-center",onClick:e[1]||(e[1]=Object(c["P"])((function(){return i.addItemQty&&i.addItemQty.apply(i,arguments)}),["prevent"]))},"＋")])])])])]),Object(c["f"])("div",N,[Object(c["f"])("span",U,"NT$"+Object(c["I"])(a.cartItem.product.price*a.cartItem.quantity),1),Object(c["f"])("a",{class:"btn text-main-color",onClick:e[2]||(e[2]=Object(c["P"])((function(){return i.dltItem&&i.dltItem.apply(i,arguments)}),["prevent"])),href:"#removeModal"},L)])])}var P=a("a620"),G={name:"CartCard",data:function(){return{api_URL:"https://livejs-api.hexschool.io/api/livejs/v1",api_path:"11111111111",token:"phRImiBZsIYgr8P9RjV9rjgr3ws2"}},methods:{dltItem:function(){var t=this,e=this,a=e.cartItem.id;I.a.delete("".concat(e.api_URL,"/customer/").concat(e.api_path,"/carts/").concat(a)).then((function(e){console.log("刪除購物車內特定產品 成功"),t.$emit("emit-getCartData"),P["a"].emit("getAlertMessage","商品已從購物車移除")})).catch((function(t){console.log(t),console.log("刪除購物車內特定產品 失敗")}))},addItemQty:function(){var t=this,e=this,a=e.cartItem.id,c=e.cartItem.quantity;c++;var n={data:{id:a,quantity:c}};I.a.patch("".concat(e.api_URL,"/customer/").concat(e.api_path,"/carts/"),n).then((function(e){console.log("增加購物車內特定產品數量 成功"),t.$emit("emit-getCartData"),P["a"].emit("getAlertMessage","已增加此商品數量")})).catch((function(t){console.log(t),console.log("增加購物車內特定產品數量 失敗")}))},removeItemQty:function(){var t=this,e=this,a=e.cartItem.id,c=e.cartItem.quantity;c--;var n={data:{id:a,quantity:c}};0===c?e.dltItem():I.a.patch("".concat(e.api_URL,"/customer/").concat(e.api_path,"/carts/"),n).then((function(e){console.log("減少購物車內特定產品數量 成功"),t.$emit("emit-getCartData"),P["a"].emit("getAlertMessage","已減少此商品數量")})).catch((function(t){console.log(t),console.log("減少購物車內特定產品數量 失敗")}))}},props:{cartItem:Object}},F=a("6b0d"),B=a.n(F);const J=B()(G,[["render",Q]]);var V=J,W=a("56a6"),Y={data:function(){return{api_URL:"https://livejs-api.hexschool.io/api/livejs/v1",api_path:"11111111111",token:"phRImiBZsIYgr8P9RjV9rjgr3ws2",cartData:[],cartInfo:[]}},methods:{getCartData:function(){var t=this;I.a.get("".concat(t.api_URL,"/customer/").concat(t.api_path,"/carts")).then((function(e){t.cartData=e.data.carts,t.cartInfo=e.data,console.log("購物車內容",t.cartData),console.log("購物車資訊",t.cartInfo),t.$emit("emitGetCartNum",t.cartData)})).catch((function(t){console.log(t),console.log("取得購物車清單 失敗")}))}},components:{CartCard:V,AlertMessage:W["a"]},emits:["emitGetCartNum"],created:function(){this.getCartData()}};const Z=B()(Y,[["render",x]]);e["default"]=Z},e157:function(t,e,a){},e993:function(t,e,a){"use strict";a("e157")}}]);
//# sourceMappingURL=chunk-2797f1d7.ce9cb169.js.map