(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3464c2f1"],{"56a6":function(t,e,a){"use strict";var c=a("7a23"),i=function(t){return Object(c["A"])("data-v-136c02bb"),t=t(),Object(c["y"])(),t},n={class:"message-zone"},o=["onClick"],s=i((function(){return Object(c["f"])("span",{"aria-hidden":"true"},"×",-1)})),r=[s];function l(t,e,a,i,s,l){return Object(c["x"])(),Object(c["e"])("div",n,[(Object(c["x"])(!0),Object(c["e"])(c["a"],null,Object(c["E"])(s.messages,(function(t,e){return Object(c["x"])(),Object(c["e"])("div",{class:Object(c["q"])(["alert fade show text-white","alert-".concat(t.color)]),key:e},[Object(c["h"])(Object(c["I"])(t.message)+" ",1),Object(c["f"])("button",{type:"button",class:Object(c["q"])(["btn btn-sm ml-2","btn-".concat(t.color)]),onClick:function(t){return l.removeMessage(e)}},r,10,o)],2)})),128))])}a("d3b7"),a("159b"),a("a434");var d=a("a620"),u={data:function(){return{messages:[]}},methods:{updateMessages:function(t,e){var a=this,c=Math.floor(new Date/1e3);a.messages.push({message:t,color:e,timestamp:c}),a.removeMessageWithTime(c)},removeMessageWithTime:function(t){var e=this;setTimeout((function(){e.messages.forEach((function(a,c){a.timestamp===t&&e.messages.splice(c,1)}))}),1500)},removeMessage:function(t){this.messages.splice(t,1)}},created:function(){var t=this;d["a"].on("getAlertMessage",(function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"second-color";"商品已從購物車移除"!==e&&"已減少此商品數量"!==e&&"已刪除全部訂單"!==e&&"已刪除該筆訂單"!==e||(a="danger"),t.updateMessages(e,a),console.log("這甚麼顏色",a)}))},beforeUnmount:function(){d["a"].off("getAlertMessage")}},b=(a("e993"),a("6b0d")),f=a.n(b);const g=f()(u,[["render",l],["__scopeId","data-v-136c02bb"]]);e["a"]=g},a434:function(t,e,a){"use strict";var c=a("23e7"),i=a("da84"),n=a("23cb"),o=a("5926"),s=a("07fa"),r=a("7b0b"),l=a("65f0"),d=a("8418"),u=a("1dde"),b=u("splice"),f=i.TypeError,g=Math.max,m=Math.min,p=9007199254740991,h="Maximum allowed length exceeded";c({target:"Array",proto:!0,forced:!b},{splice:function(t,e){var a,c,i,u,b,j,v=r(this),O=s(v),x=n(t,O),D=arguments.length;if(0===D?a=c=0:1===D?(a=0,c=O-x):(a=D-2,c=m(g(o(e),0),O-x)),O+a-c>p)throw f(h);for(i=l(v,c),u=0;u<c;u++)b=x+u,b in v&&d(i,u,v[b]);if(i.length=c,a<c){for(u=x;u<O-c;u++)b=u+c,j=u+a,b in v?v[j]=v[b]:delete v[j];for(u=O;u>O-c+a;u--)delete v[u-1]}else if(a>c)for(u=O-c;u>x;u--)b=u+c-1,j=u+a-1,b in v?v[j]=v[b]:delete v[j];for(u=0;u<a;u++)v[u+x]=arguments[u+2];return v.length=O-c+a,i}})},a620:function(t,e,a){"use strict";var c=function(t){return{all:t=t||new Map,on:function(e,a){var c=t.get(e);c?c.push(a):t.set(e,[a])},off:function(e,a){var c=t.get(e);c&&(a?c.splice(c.indexOf(a)>>>0,1):t.set(e,[]))},emit:function(e,a){var c=t.get(e);c&&c.slice().map((function(t){t(a)})),(c=t.get("*"))&&c.slice().map((function(t){t(e,a)}))}}};e["a"]=c()},d2f1:function(t,e,a){"use strict";a.r(e);var c=a("7a23"),i={class:"container mt-5"},n=Object(c["g"])('<div class="container"><div class="banner-main-img bg-cover pt-5 banner-img-2"><div class="container d-flex align-items-center"><h2 class="ml-auto text-bg product-header-text p-3 text-main-darker"> 每天都是 －<br><span class="mt-4">享受的好日子。</span></h2></div></div></div>',1),o={class:"row d-flex justify-content-around mt-5"},s={class:"col-md-3 mb-5"},r={class:"list-group sticky-top text-center"},l=Object(c["f"])("h5",{class:"list-group-item mb-0 bg-main-color text-white"},"產品類別",-1),d={class:"col-md-8"},u={class:"tab-content"},b={class:"tab-pane fade active show"},f={class:"row"},g=Object(c["g"])('<nav aria-label="Page navigation"><ul class="pagination justify-content-center mt-5"><li class="page-item text-main-color disabled"><a class="page-link" href="#" tabindex="-1" aria-disabled="true">Previous</a></li><li class="page-item text-main-color disabled"><a class="page-link" href="#">1</a></li><li class="page-item text-main-color disabled"><a class="page-link" href="#">2</a></li><li class="page-item text-main-color disabled"><a class="page-link" href="#">3</a></li><li class="page-item text-main-color disabled"><a class="page-link" href="#">Next</a></li></ul></nav>',1);function m(t,e,a,m,p,h){var j=Object(c["F"])("AlertMessage"),v=Object(c["F"])("ProductCard");return Object(c["x"])(),Object(c["e"])("div",i,[Object(c["i"])(j),n,Object(c["f"])("div",o,[Object(c["f"])("div",s,[Object(c["f"])("div",r,[l,Object(c["f"])("a",{href:"#","data-toggle":"list",class:"list-group-item list-group-item-action active",onClick:e[0]||(e[0]=Object(c["P"])((function(t){return h.selectCategory("全部")}),["prevent"]))},"全部產品"),Object(c["f"])("a",{href:"#","data-toggle":"list",class:"list-group-item list-group-item-action",onClick:e[1]||(e[1]=Object(c["P"])((function(t){return h.selectCategory("床架")}),["prevent"]))},"精選床架"),Object(c["f"])("a",{href:"#","data-toggle":"list",class:"list-group-item list-group-item-action",onClick:e[2]||(e[2]=Object(c["P"])((function(t){return h.selectCategory("收納")}),["prevent"]))},"居家收納"),Object(c["f"])("a",{href:"#","data-toggle":"list",class:"list-group-item list-group-item-action",onClick:e[3]||(e[3]=Object(c["P"])((function(t){return h.selectCategory("窗簾")}),["prevent"]))},"遮光窗簾")])]),Object(c["f"])("div",d,[Object(c["f"])("div",u,[Object(c["f"])("div",b,[Object(c["f"])("div",f,[(Object(c["x"])(!0),Object(c["e"])(c["a"],null,Object(c["E"])(p.sameCategoryItem,(function(t){return Object(c["x"])(),Object(c["d"])(v,{key:t.id,"product-data":t,"card-size":p.productCardSize,"cart-data":p.cartData,onEmitGetCartData:h.getCartData},null,8,["product-data","card-size","cart-data","onEmitGetCartData"])})),128))])])]),g])])])}a("99af"),a("d3b7"),a("159b");var p=a("bc3a"),h=a.n(p),j=a("e915"),v=a("56a6"),O={data:function(){return{api_URL:"https://livejs-api.hexschool.io/api/livejs/v1",api_path:"11111111111",token:"phRImiBZsIYgr8P9RjV9rjgr3ws2",productData:[],productCardSize:"6",cartData:[],sameCategoryItem:[]}},methods:{getData:function(){var t=this;h.a.get("".concat(t.api_URL,"/customer/").concat(t.api_path,"/products")).then((function(e){t.productData=e.data.products,console.log("全部item",t.productData),t.sameCategoryItem=t.productData})).catch((function(t){console.log(t),console.log("取得產品列表 失敗")}))},getCartData:function(){var t=this;h.a.get("".concat(t.api_URL,"/customer/").concat(t.api_path,"/carts")).then((function(e){t.cartData=e.data.carts,console.log("購物車內容",t.cartData),t.$emit("emitGetCartNum",t.cartData)})).catch((function(t){console.log(t),console.log("取得購物車清單 失敗")}))},selectCategory:function(t){var e=this,a=[];"全部"===t?a=e.productData:e.productData.forEach((function(e){t===e.category&&a.push(e)})),console.log(a),e.sameCategoryItem=a}},emits:["emitGetCartNum"],components:{ProductCard:j["a"],AlertMessage:v["a"]},created:function(){this.getData(),this.getCartData()}},x=a("6b0d"),D=a.n(x);const C=D()(O,[["render",m]]);e["default"]=C},e157:function(t,e,a){},e915:function(t,e,a){"use strict";var c=a("7a23"),i={class:"px-md-2"},n={class:"item-card"},o=["id"],s={class:"item-body d-flex text-center text-main-darker justify-content-center align-items-center"},r={class:"col item-name"},l={class:"col item-price font-weight-bold"},d={class:"text-second-color"},u=["data-id"];function b(t,e,a,b,f,g){return Object(c["x"])(),Object(c["e"])("div",{class:Object(c["q"])("col-md-".concat(a.cardSize," mb-6"))},[Object(c["f"])("div",i,[Object(c["f"])("div",n,[Object(c["f"])("div",{class:"item-image bg-cover border border-main-light",style:Object(c["r"])({"background-image":"url("+a.productData.images+")"})},null,4),Object(c["f"])("div",{id:f.itemLabel,class:"item-label"},Object(c["I"])(f.itemLabel),9,o),Object(c["f"])("div",s,[Object(c["f"])("div",r,Object(c["I"])(a.productData.title),1),Object(c["f"])("div",l,[Object(c["f"])("del",d,"NT$"+Object(c["I"])(a.productData.origin_price),1),Object(c["f"])("p",null,"NT$"+Object(c["I"])(a.productData.price),1)])])]),Object(c["f"])("a",{href:"#",class:"btn btn-block btn-lg btn-second-color text-main-darker py-3","data-id":a.productData.id,onClick:e[0]||(e[0]=Object(c["P"])((function(t){return g.addItem(a.productData.id)}),["prevent"]))},"加入購物車",8,u)])],2)}a("d3b7"),a("159b"),a("99af");var f=a("bc3a"),g=a.n(f),m=a("a620"),p={name:"ProductCard",data:function(){return{api_URL:"https://livejs-api.hexschool.io/api/livejs/v1",api_path:"11111111111",token:"phRImiBZsIYgr8P9RjV9rjgr3ws2",itemLabel:""}},methods:{getItemLabel:function(){var t=this;"床架"===t.productData.category?t.itemLabel="精選床架":"收納"===t.productData.category?t.itemLabel="居家收納":t.itemLabel="遮光窗簾"},addItem:function(t){var e=this,a=this,c=1;a.cartData.forEach((function(e){t===e.product.id&&(c=e.quantity+1)})),g.a.post("".concat(a.api_URL,"/customer/").concat(a.api_path,"/carts"),{data:{productId:t,quantity:c}}).then((function(t){console.log("ID:".concat(a.productData.title,",已加入第").concat(c,"個")),e.$emit("emit-getCartData"),m["a"].emit("getAlertMessage","商品已加入購物車")})).catch((function(t){console.log(t),console.log("將產品加入購物車 失敗")}))}},props:{productData:Object,cardSize:String,cartData:Object},created:function(){this.getItemLabel()}},h=a("6b0d"),j=a.n(h);const v=j()(p,[["render",b]]);e["a"]=v},e993:function(t,e,a){"use strict";a("e157")}}]);
//# sourceMappingURL=chunk-3464c2f1.9a308f22.js.map